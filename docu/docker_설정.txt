1. Dockerfile 생성
  현재 프로젝트의 루트에 Dockerfile 을 생성
2. Docker build (마지막에 쩜 주의)
  docker build -t dimg-fastapi-app .
3. 컨테이너 실행
  docker run -d --name fastapi-container -p 80:8000 dimg-fastapi-app
  [설명]
  -d: 백그라운드에서 실행 (터미널을 꺼도 계속 돌아감)
  --name: 컨테이너의 이름을 지정
  -p 80:8000: 핵심 설정! AWS 서버의 80번 포트(HTTP 기본)로 들어오는 요청을 도커 컨테이너 내부의 8000번 포트로 연결합니다.
   (aws호스트포트:컨테이너포트 의 형태임 > -p 8000:8000 해야 브라우저에서 8000 포트로 접속 가능)
4. 실행 상태 확인
  docker ps
  > STATUS 가 UP이면 실행중임
5. 접속
  브라우저 주소창에 AWS 인스턴스의 퍼블릭 IP를 입력해 보세요.
  주소: http://<AWS-IP>/ (뒤에 :8000을 붙이지 않아도 됩니다. 80포트로 연결했으니까요!)
  문서 확인: http://<AWS-IP>/docs

6. 운영 중에 자주 쓰게 될 명령어들입니다. ######### 중요 #########
  - 로그 확인: docker logs -f fastapi-container (서버 에러가 날 때 확인용)
  - 컨테이너 중지: docker stop fastapi-container
  - 컨테이너 삭제: docker rm fastapi-container
  - 전체 이미지 목록 확인: docker images
  - 이미지 삭제: docker rmi my-fastapi-app
  - 쓰레기 이미지들 자동 삭제: docker system prune
  - 실행중인 컨테이너: docker ps
  - 정지된 채 이름 점유중인 컨테이너(있으면 삭제해야 포트등 반환): docker ps -a
  - 도커 실시간 리소스 확인: docker stats

  ## 도커컴포즈 ##
  - 도커컴포즈 프로젝트 단위 실행상태: docker-compose ps


  *빌드되면 이미지, 실행중인 이미지는 컨테이너 라함
   컨테이너는 중지 후 껍데기는 삭제해야함.. 이를 간단히 한줄로..
    >> docker rm -f {fastapi-container}
  *이미지는 덮어씌워지지만, 컨테이너는 삭제해야 이름 충돌을 피할수 있다.(정지만해도 이름은 점유중)

6. 개발단계 컨테이너 삭제후 재실행 한방
  docker rm -f {컨테이너명} && docker run -d --name {컨테이너명} -p 80:8000 {이미지명}
  (컨테이너명: fastapi-container, 이미지명: dimg-fastapi-app)

  ================ 모든 과정은  docker-compose.yml 설정으로 대체 및 취합 ====================
  1. 각 프로젝트마다 Dockerfile 생성
  2. postgresql 은.. 이미 생성된 이미지파일을 Docker Hub에서 받아 사용
  3. yml 파일이 빌드 및 실행 (강제 빌드 하도록 --build 로 빌드 옵션 반드시 설정, -d 백그라운드 실행 옵션도)
    > docker-compose up --build -d
  4. 실행 종료: 네트워크(포트) 및 컨테이너 제거 (DB데이터는 유지)
     > docker-compose down
     *잠시 멈추게만 하려면 (리소스등으로 인해 잠시만 멈추고싶은 경우)
      >docker-compose stop
     *멈춘거 재실행
      >docker-compose start
 5. 특정 App (컨테이너) 만 재빌드 및 재실행 필요시
    # DB는 건드리지 않고, FastAPI(web) 코드 변경사항만 반영해서 다시 띄움
    # docker-compose.yml 파일안에 service 를 가령 db, web 등으로 분류했을 때 web 만 재빌드 및 재실행
    >docker-compose up --build -d web

 6. 특정 app(service, container) 만 stop/start  필요시
   >docker-compose stop web   # web 서비스만 중지 (DB는 유지)
   >docker-compose start web  # web 서비스만 다시 시작


